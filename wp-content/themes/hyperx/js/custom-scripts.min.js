jQuery(document).ready(function(t){"use strict";function a(){t(window).scrollTop()>100?_.fadeIn(parseInt(_.attr("data-duration"))):_.fadeOut(parseInt(_.attr("data-duration")))}function e(){if(O.hasClass("sidebar-equal")){W.css("min-height",""),z.css("min-height","");var t=W.outerHeight(),a=z.outerHeight(),e=M.outerHeight();(O.hasClass("copy-fixed")||"none"===M.css("display"))&&(e=0),t>a+e?z.css("min-height",t-e):W.css("min-height",a+e)}}function i(){if(O.hasClass("sidebar-fixed")&&O.hasClass("copy-fixed")&&"none"!==M.css("display")&&!O.hasClass("sidebar-equal")){var a=t(window).height()-M.outerHeight();O.hasClass("admin-bar")&&(a-=32),W.outerHeight(a),W.perfectScrollbar("update")}}function s(){O.hasClass("sidebar-top-fixed")&&(1===parseInt(A.attr("data-fullwidth"),10)?(A.css({left:"0","max-width":"none"}),A.children("div").css({width:z.outerWidth()+"px",margin:"0 auto"})):A.css("width",z.outerWidth()+"px"))}function o(){var t=parseInt(A.outerHeight(),10)+parseInt(A.attr("data-margin"),10)-1;O.hasClass("sidebar-top-fixed")&&(O.hasClass("page-template-default")&&O.hasClass("def-page-margins")&&(t=parseInt(A.outerHeight(),10)),t=t<parseInt(A.attr("data-alt-height"),10)?parseInt(A.attr("data-alt-height"),10):t,A.css("position","fixed"),z.css("margin-top",t+"px"))}function r(a){if(O.hasClass("onepage-menu")&&O.hasClass("page-template-default")){if(a.constructor===Array&&(a=a[a.length-1]),-1===a.indexOf("#"))return;var e=t(a).offset().top;O.hasClass("sidebar-top-fixed")&&(e-=A.outerHeight()),O.hasClass("admin-bar")&&(e-=32),t("html, body").animate({scrollTop:e},1200,"swing")}}function n(){var a=t(".top-nav-search-wrap"),e=a.children("div").find("i");a.length>0&&(a.children("div").width(A.children("div").outerWidth()),e.attr("class","fa fa-times search-icon"),a.children("a").on("click",function(t){t.preventDefault(),a.children("div").fadeIn()}),e.on("click",function(){a.children("div").fadeOut()}))}function l(){"none"===W.css("display")&&O.hasClass("copy-fixed")?(O.removeClass("copy-closed"),M.addClass("copy-mobile")):"none"!==W.css("display")&&O.hasClass("copy-fixed")&&O.hasClass("sidebar-closed")?(O.addClass("copy-closed"),M.removeClass("copy-mobile")):"none"!==W.css("display")&&O.hasClass("copy-fixed")&&!O.hasClass("sidebar-closed")&&M.removeClass("copy-mobile")}function d(){t(".featured-media").css("min-height",t(".featured-media").find(".link-and-quote").outerHeight())}function c(){var a=t(".single-wrap").height(),e=t(".single-content-wrap").outerHeight();O.hasClass("project-info-equal")?(K.css("min-height",""),K.css("min-height",a+"px"),O.hasClass("project-info-below-right")&&!O.hasClass("single-header-below-p")?(K.css("min-height",""),K.css("min-height",e+"px")):O.hasClass("project-info-below-right")&&O.hasClass("single-header-below-p")&&(K.css("min-height",""),K.css("min-height",e+t(".single-header").outerHeight()+"px"))):K.css("min-height","")}function p(){if(O.hasClass("single-royal_portfolio")&&"no"!==K.data("sticky")){t(window).on("load",function(){t(window).trigger("scroll")}),t("article.portfolio-single").css("overflow","hidden");var a=t("#sidebar-top").length?parseInt(t(".body-section").css("margin-bottom"),10):0,e=K.offset().top,i=t("article.portfolio-single").offset().top,s=t("#wpadminbar").length?t("#wpadminbar").height():0,o=t("#sidebar-top").length?parseInt(t("#sidebar-top").css("margin-bottom"),10):0,r=parseInt(K.data("sticky-offset"),10);t(window).scroll(function(){"none"===t(".m-nav-and-logo").css("display")?t(window).scrollTop()+3>e?t(window).scrollTop()+K.outerHeight()<i+t("article.portfolio-single").outerHeight()-a+s+o-r?K.stop().animate({marginTop:t(window).scrollTop()-e+K.data("left-margin")+r},700):K.stop().animate({marginTop:t("article.portfolio-single").outerHeight()-K.outerHeight()-a+o+r},700):K.stop().animate({marginTop:0},700):K.css("margin-top",0)})}}function h(t){var a=t.data("placeholder");t.focus(function(){t.val()===a&&t.val("")}),t.blur(function(){""===t.val()&&t.val(a)})}function f(){var a=t(".pers-name");return(""===a.val()||a.val()===a.data("placeholder")||a.val().length<2)&&a.attr("aria-required")?(a.addClass("rf-error"),!1):(a.removeClass("rf-error"),!0)}function u(){var a=t(".pers-email"),e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(a.val())!==!0&&a.attr("aria-required")?a.addClass("rf-error"):a.removeClass("rf-error"),a.attr("aria-required")?e.test(a.val()):!0}function g(){var a=t(".pers-message");return""===a.val()||a.val()==a.data("placeholder")||a.val().length<2?(a.addClass("rf-error"),!1):(a.removeClass("rf-error"),!0)}function m(a){var i=P.width(),s=t("#"+a+"-container"),o=t("."+a+"-post"),r=o.filter(":visible"),n=""!==s.attr("data-layout")?s.attr("data-layout"):"masonry",l=parseInt(s.attr("data-gutter-horz"),10),d=parseInt(s.attr("data-gutter-vert"),10),c=0,p=0,h=s.attr("data-columns-rate"),f=Math.floor(s.width()+l-.3),u=r.find(".post-media"),g=parseInt(s.attr("data-aspect-height"),10)/parseInt(s.attr("data-aspect-width"),10),m=-1,v=-1;o.addClass("rf-isotope-item"),o.css("min-height",""),u.find(".link-and-quote").css("min-height",""),o.removeClass("rf-last-item rf-last-row"),"one"===h?c=1:"two"===h?(c=2,600>i&&(c=1)):"three"===h?(c=3,600>i?c=1:900>=i&&(c=2)):"four"===h?(c=4,600>i?c=1:900>=i&&(c=2)):(h=parseInt(h,10),600>i?c=1:"none"===t("#sidebar, #sidebar-top").css("display")?(p=0>=h?1:h,c=1+p):1250>=i?(p=0>=h?0:h,c=2+p):c=1600>=i?3+h:1950>=i?4+h:2300>=i?5+h:2650>=i?6+h:3e3>=i?7+h:3350>=i?8+h:9+h),"masonry-metro"!==n?o.outerWidth(Math.floor(f/c-l)):(t("."+a+"-grid-sizer, ."+a+"-post.post-width1x").outerWidth(Math.floor(f/3-l)),t("."+a+"-post.post-width2x").outerWidth(2*Math.floor(f/3)-l)),"fitRows"===n&&o.css("margin-right",l+"px"),o.css("margin-bottom",d+"px"),"fitRows"===n&&u.find(".link-and-quote, video").css("min-height",u.width()*g+"px"),r.last().addClass("rf-last-item"),r.each(function(a){var e=t(this).outerHeight(),i=parseInt(t(this).css("top"),10);(a+1)%c===0&&t(this).addClass("rf-last-item"),e>m&&(m=e),i>v&&(v=i)}),"fitRows"===n&&r.each(function(){parseInt(t(this).css("top"))===v&&t(this).addClass("rf-last-row"),t(this).css("min-height",m)});var w=f/c;"masonry-metro"===n&&(n="masonry","blog"===a?w=".blog-grid-sizer":"portfolio"===a&&(w=".portfolio-grid-sizer")),s.isotope({itemSelector:"article",transitionDuration:"0.6s",hiddenStyle:{transform:"scale(0.001)"},visibleStyle:{transform:"scale(1)"},layoutMode:n,masonry:{comlumnWidth:w,gutter:l}}),e()}function v(){t(".post-text-wrap").each(function(){t(this).show();var a=0;t(this).children().not("div[class=clear]").each(function(){"none"!==t(this).css("display")&&(a+=1)}),(0===t(this).children().length||1>a)&&t(this).hide()}),t(".media-hovers-inner").each(function(){t(this).parent().parent().show();var a=0;t(this).children().not("div[class=clear]").each(function(){"none"!==t(this).css("display")&&(a+=1)}),(0===t(this).children().length||1>a)&&t(this).parent().parent().hide()})}function w(){var a=t(".read-more-wrap, .more-info-wrap");a.siblings(".likes-and-comments:visible").length>0&&"none"===a.css("float")?a.css("padding-top","15px"):a.css("padding-top","0")}function b(){t(".likes-and-comments, .post-meta-info").each(function(){t(this).children().not(":hidden").last().find(".meta-sep").hide()})}function y(a){t(a).hasClass("stretch-container")&&t(a).closest(".vc_row").addClass("disable-row-marings").css({left:"-"+t(".single-content-wrap").css("padding-left"),width:t(".inner-content-wrap").outerWidth()})}function C(){t(".post-media-in-wrap").hover(function(){t(this).find("img").first().next().stop().fadeIn()},function(){t(this).find("img").first().next().stop().fadeOut()})}function x(a){if(O.hasClass("onepage-menu"))var e="blog"===a?t("#blog-container").prev(".filters"):t("#portfolio-container").prev(".filters");else if(O.hasClass("archive")&&!O.hasClass("blog")&&!O.hasClass("page-template-portfolio-php")&&t(".filters").length>0){if("portfolio"===a)return;var e=t(".filters")}else if(!O.hasClass("blog")&&!O.hasClass("page-template-portfolio-php")&&t(".filters").length>0)var e=t(".filters");else if(O.hasClass("blog")){if("portfolio"===a)return;if(W.length>0)var e=t(".blog-filters .filters");else var e=t(".blog .filters")}else{if(!O.hasClass("page-template-portfolio-php"))return;if("blog"===a)return;if(W.length>0)var e=t(".portfolio-filters .filters");else var e=t(".page-template-portfolio-php .filters")}var i=e.find("a"),s=i.find("i"),o=s.attr("class");if(i.parent().show(),i.each(function(){t(this).closest("section").hasClass("sid-block")&&O.hasClass("single")||(W.length>0?"*"===t(this).attr("data-filter")?e.closest("section").attr("class").match("portfolio")?t(this).find("sup").text(" "+t("#portfolio-container").find("article").length):e.closest("section").attr("class").match("blog")&&t(this).find("sup").text(" "+t("#blog-container").find("article").length):t(this).find("sup").text(" "+t(t(this).attr("data-filter")).length):"*"===t(this).attr("data-filter")?t(this).find("sup").text(" "+e.next().find("article").length):t(this).find("sup").text(" "+t(t(this).attr("data-filter")).length))}),t(".filters").length>0&&!O.hasClass("no-isotope")){var r="",n="",l="";if(t("."+a+"-post").each(function(){n+=t(this).attr("class")}),n=n.split(" ").join(""),i.each(function(){r=t(this).data("filter").replace(".",""),l+=" "+r,-1==n.indexOf(r)&&"*"!=r&&(t(this).parent().hide(),O.hasClass("single")&&t(this).closest("section").hasClass("sid-block")&&t(this).parent().show())}),t(".blog-grid-sizer").attr("class","blog-grid-sizer"+l.replace("*","")),t(".portfolio-grid-sizer").attr("class","portfolio-grid-sizer"+l.replace("*","")),"undefined"!=typeof o&&t('.filters a[data-filter="*"]').find("i").removeClass(o).addClass(o.replace("-o","")),O.hasClass("deeplinking")){var d=window.location.href;d.match("#filter:all")?t("#"+a+"-container").isotope({filter:"*"}):d.match("#filter:")&&(t("#"+a+"-container").isotope({filter:"."+d.substr(d.indexOf("#filter:")+8,d.length)}),e.find("a").removeClass("active-filter-item active-state"),e.find('a[data-filter=".'+d.substr(d.indexOf("#filter:")+8,d.length)+'"]').addClass("active-filter-item active-state")),setTimeout(function(){m("portfolio"),m("blog")},700)}i.on("click",function(a){var e=t(this).closest("ul").next().attr("id");i.removeAttr("class"),t(this).addClass("rf-button active-filter-item active-state"),s.removeAttr("class"),s.addClass(o),t(this).find("i").removeClass(o).addClass(o.replace("-o",""));var r=t(this).data("filter"),r=r.replace(".","");if(O.hasClass("deeplinking"))if(O.hasClass("single")&&t(this).closest("section").hasClass("sid-block")){var n=t("#sidebar .logo-wrap"),l=n.attr("data-blog");if(O.hasClass("single-royal_portfolio"))var l=""===n.attr("data-portfolio")?n.attr("href"):n.attr("data-portfolio");"*"===r?window.location.href=l+"/#filter:all":window.location.href=l+"/#filter:"+r}else"*"===r?window.location.href="#filter:all":window.location.href="#filter:"+r;"*"===r?(t("#"+e+' a[rel*="prettyPhoto"]').attr("rel","prettyPhoto[all]"),t('a[rel*="prettyPhoto"]').prettyPhoto()):(t("#"+e+" .royal_portfolio_cats-"+r+' a[rel*="prettyPhoto"]').attr("rel","prettyPhoto["+r+"]"),t('a[rel*="prettyPhoto"]').prettyPhoto()),"portfolio-container"===e?t("#portfolio-container").isotope({filter:t(this).data("filter")}):t("#blog-container").isotope({filter:t(this).data("filter")}),O.hasClass("single")||(t(this).closest("section").hasClass("portfolio-filters")?t("#portfolio-container").isotope({filter:t(this).data("filter")}):t(this).closest("section").hasClass("blog-filters")&&t("#blog-container").isotope({filter:t(this).data("filter")})),setTimeout(function(){m("portfolio"),m("blog")},700),a.preventDefault()})}else{var c=O.attr("class");i.each(function(){var a="term";(O.hasClass("blog")||O.hasClass("category"))&&(a="category");var e=t(this).data("filter").replace(".","-");-1!=c.indexOf(a+e)&&t(this).addClass("active-filter-item active-state")})}}function I(a){var e=t("."+a).find(".social-share-wrap"),i=e.find(".social-share");i.hide(),"hover"===e.attr("data-open")?(i.hide(),e.hover(function(){t(this).find(".social-share").stop().fadeIn()},function(){t(this).find(".social-share").stop().fadeOut()})):"click"===e.attr("data-open")?(i.hide(),e.mouseleave(function(){t(this).find(".social-share").stop().fadeOut()}),e.on("click",function(){t(this).find(".social-share").stop().fadeIn()})):(e.children("i").hide(),i.show())}function k(){"fitRows"!==$.data("layout")||""===$.data("aspect-width")&&""===$.data("aspect-height")||t(".video-media").find("iframe").attr("width",$.data("aspect-width")).attr("height",$.data("aspect-height")),t(".featured-media, .video-media").fitVids()}function T(a){var e=t("#"+a+"-container").next(".load-more-wrap");t("#"+a+"-container").infinitescroll({navSelector:e,nextSelector:e.find("a"),itemSelector:"."+a+"-post",behavior:t(".pagination-wrap").data("behaviour"),loading:{finishedMsg:"",msgText:'<div class="infscr-inner"><div class="infscr-center">'+t("#"+a+"-container").next(".load-more-wrap").data("more-text")+"</div></div>"}},function(i){var s=t(i).wrapInner("");s.children().css("opacity","0");var o=e.find("a").attr("href");o=o.replace("paged="+o.substr(o.length-1),"paged="+(parseInt(o.substr(o.length-1),10)+1)),o=o.replace("page/"+o.substr(o.length-2),"page/"+(parseInt(o.substr(o.length-2),10)+1)),"facebook"===e.data("behaviour")&&e.find("a").attr("href",o),t(i).waitForImages({finished:function(){t("#"+a+"-container").isotope("appended",i).isotope("reloadItems"),t(".load-more-wrap").find("i").remove(),t(".cycle-slideshow").cycle(),v(),x(a),I(a+"-post"),b(),k(),C(),w(),m(a),setTimeout(function(){m(a)},300),setTimeout(function(){t("."+a+"-post-inner").css({opacity:"1",transition:"opacity 0.8s ease-out","-webkit-transition":"opacity 0.8s ease-out"})},800),"facebook"===e.data("behaviour")&&parseInt(e.find("div").attr("data-max"),10)<parseInt(o.substr(o.length-1),10)&&(t("#infscr-loading").fadeOut(500),setTimeout(function(){t("#infscr-loading").css("visibility","hidden")},600)),setTimeout(function(){m(a)},1500),t('a[rel*="prettyPhoto"]').prettyPhoto()},waitForAll:!0})})}function j(a){var e=1,i=parseInt(a.find("a").parent().data("max"),10);a.find("a").on("click",function(){return 0===t(this).find("i").length&&(t(this).prepend('<i class="fa fa-'+t(this).parent().attr("data-load-icon")+' fa-spin"></i>'),e++),i===e&&a.delay(1e3).fadeOut(500),!1})}var O=t("body"),P=t("#page-wrap"),S=t(".m-nav-fold"),H=t(".sidebar-fold-btn"),_=t(".back-to-top"),W=t("#sidebar"),A=t("#sidebar-top"),z=t("#main-wrap"),D=t(".main-nav li a"),M=t(".copy-and-soc"),q=t(".rf-form, .comment-form"),E=t(".rf-input, #s");if(O.hasClass("royal-page-preloader")&&t(window).on("load",function(){setTimeout(function(){O.removeClass("royal-page-preloader"),t(".royal-preloader-wrap").fadeOut(t(".royal-preloader-wrap").data("bg-trans"))},300)}),O.hasClass("royal-page-preloader")&&"none"!==P.data("fx")){P.addClass("animsition"),O.find('a[href*="'+t(".logo-wrap").attr("href")+'"]').addClass("animsition-link"),t('.load-more-wrap a, .social-share a, a.post-comments, a[rel*="prettyPhoto"]').removeClass("animsition-link");var R=P.data("fx"),X=parseInt(P.data("fx-speed"),10);R=R.split(","),t("#page-wrap.animsition").animsition({inClass:R[0],outClass:R[1],inDuration:X,outDuration:X,linkElement:".animsition-link",loading:!1,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5e3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(t){window.location.href=t}}),t(".animsition-link").on("click",function(a){1===a.which&&t(".royal-preloader-wrap").fadeIn(X)})}S.on("click",function(){t(".mobile-nav").stop().slideToggle()}),H.on("click",function(){O.toggleClass("sidebar-closed copy-closed"),i(),setTimeout(function(){c(),t(".jcarousel").jcarousel("reload").fadeOut().fadeIn(),m("portfolio"),m("blog"),t(".esg-grid").each(function(){t(this).esredraw()})},200)}),a(),t(window).scroll(function(){a()}),_.on("click",function(){t("html, body").animate({scrollTop:0},parseInt(_.attr("data-scroll-top")))}),"none"!==t(".footer-fold-btn").css("display")&&M.css("bottom",-M.outerHeight()+"px"),t(".footer-fold-btn").on("click",function(){var a=t(this).children(),e=a.attr("class");"0px"!==M.css("bottom")?(e.match("up")&&a.attr("class",e.replace("up","down")),M.animate({bottom:"0"},500)):(e.match("down")&&a.attr("class",e.replace("down","up")),M.animate({bottom:-M.outerHeight()+"px"},500))}),navigator.userAgent.match(/opera/i)?W.perfectScrollbar({suppressScrollX:!0,wheelSpeed:150,includePadding:!0}):navigator.userAgent.match(/msie/i)?W.perfectScrollbar({suppressScrollX:!0,wheelSpeed:2,includePadding:!0}):-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?(W.perfectScrollbar({suppressScrollX:!0,wheelSpeed:150,includePadding:!0}),t(".project-info").css("margin-left",t(".single-wrap").outerWidth()+t(".project-info").data("left-margin")+"px")):W.perfectScrollbar({suppressScrollX:!0,includePadding:!0}),!O.hasClass("sidebar-fixed")&&O.hasClass("copy-fixed")&&W.append('<div class="tmp-copy-soc" style="height:'+M.outerHeight()+'px;"></div>'),"hover"===t(".main-nav").parent().data("open")?(D.mouseenter(function(){t(this).parent().find(".sub-menu").stop().slideDown(),W.perfectScrollbar("update")}),W.mouseleave(function(){D.parent().find(".sub-menu").stop().slideUp()})):"click"===t(".main-nav").parent().data("open")&&D.on("click",function(a){D.parent().find(".sub-menu").stop().slideUp(),t(this).parent().find(".sub-menu").stop().slideToggle(),W.perfectScrollbar("update"),t(this).parent().find(".sub-menu").length>0&&a.preventDefault()}),t(".tagcloud a").removeAttr("style");var U=t(".top-nav"),F=t(".top-nav-wrap");if(O.hasClass("menu-fold-style")&&!U.hasClass("top-nav-center")){U.addClass("top-nav-center").wrap('<div class="top-nav-container"></div>').wrap('<div class="top-nav-outer"></div>').wrap('<div class="top-nav-inner"></div>'),t(".top-nav-container").addClass(F.attr("data-popup-fx"));var G=t(".top-nav-close").remove();t(".top-nav-outer").append(G),t(".top-nav-close").show()}if(t(".top-nav-toggle").on("click",function(){t(".top-nav-container").toggleClass("top-nav-popup"),t(".tn-fade").fadeToggle(parseInt(F.attr("data-popup-fx-trans"),10))}),O.hasClass("sidebar-top")&&(t(".sub-menu").each(function(){t(this).wrap('<div class="sub-menu-wrap"></div>')}),t(".top-nav.top-nav-vertical > li").hover(function(){t(this).children(".sub-menu-wrap").children(".sub-menu").stop().slideDown()},function(){t(this).children(".sub-menu-wrap").children(".sub-menu").stop().slideUp()}),t(".top-nav.top-nav-horizontal > li").hover(function(){t(this).children(".sub-menu-wrap").children(".sub-menu").fadeIn("fast")},function(){t(this).children(".sub-menu-wrap").children(".sub-menu").fadeOut("fast")}),t(".top-nav.top-nav-horizontal .sub-menu > li").hover(function(){t(this).children(".sub-menu-wrap").children(".sub-menu").fadeIn("fast")},function(){t(this).children(".sub-menu-wrap").children(".sub-menu").fadeOut("fast")})),t(".top-widgets-fold-btn").find("i").on("click",function(){t(".top-widgets").slideToggle(),t(this).attr("class").match("plus")?t(this).attr("class",t(this).attr("class").replace("plus","minus")):t(this).attr("class").match("minus")&&t(this).attr("class",t(this).attr("class").replace("minus","plus")),t(this).attr("class").match("down")?t(this).attr("class",t(this).attr("class").replace("down","up")):t(this).attr("class").match("up")&&t(this).attr("class",t(this).attr("class").replace("up","down"))}),O.hasClass("onepage-menu")&&(t(window).on("load",function(){setTimeout(function(){var a="";t(".vc_row").each(function(){A.offset().top>=t(this).offset().top-A.outerHeight()&&(t(".menu-item").removeClass("current-menu-item"),a="",a=t(this).attr("id"))}),""!==a?t('.menu-item a[href="#'+a+'"]').parent().addClass("current-menu-item"):t('.menu-item a[href="#'+t(".vc_row").first().attr("id")+'"]').parent().addClass("current-menu-item")},300)}),t(window).on("scroll",function(){t(".vc_row").each(function(){t(window).scrollTop()>=t(this).offset().top-A.outerHeight()&&(t(".menu-item").removeClass("current-menu-item"),t('.menu-item a[href="#'+t(this).attr("id")+'"]').parent().addClass("current-menu-item"))})}),t(".menu-item a").on("click",function(a){t(".menu-item").removeClass("current-menu-item"),t(this).parent().addClass("current-menu-item"),t(this.hash).length>0?a.preventDefault():window.location.href=t(".logo-wrap").attr("href")+"/"+t(this).attr("href"),r(t(this).attr("href"))})),t("#sidebar").length>0&&t(".vc_row .rev_slider_wrapper").wrap('<div class="royal-revslider"></div>'),O.hasClass("sidebar-top-scale")&&!O.hasClass("sidebar-top-vertical")&&"none"!==A.css("display")){t("#sidebar-top > div, .logo-and-tagline, .top-nav > li, .top-nav > li > a").addClass("sidebar-top-scale-adjust");var L=A.children("div"),N=L.outerHeight()<parseInt(A.attr("data-alt-height"),10)?parseInt(A.attr("data-alt-height"),10):L.outerHeight(),V=parseFloat(L.attr("data-scale-height"),10),Z=A.css("background-color");t(".top-nav > li > a").css("line-height",N+"px"),t("#sidebar-top .logo-img img").css("max-height",N+"px"),L.css("max-height",N+"px"),A.addClass("std-noscale"),t(window).scroll(function(){O.hasClass("sidebar-top-scale")&&"none"!==A.css("display")&&(t(window).scrollTop()>0?A.hasClass("std-noscale")&&(A.addClass("std-scaled"),A.removeClass("std-noscale"),L.animate({"max-height":V},200),t(".top-nav > li > a").animate({"line-height":V+"px"},200),t("#sidebar-top .logo-img img").animate({"max-height":V},200),A.css({"background-color":A.attr("data-scale-color")})):A.hasClass("std-scaled")&&(A.addClass("std-noscale"),A.removeClass("std-scaled"),L.animate({"max-height":N},200),t(".top-nav > li > a").animate({"line-height":N+"px"},200),t("#sidebar-top .logo-img img").animate({"max-height":N},200),A.css({"background-color":Z})))})}var K=t(".project-info");0===t(".project-description-wrap").length&&t(".project-details-wrap").addClass("no-project-desc"),t(".jcarousel").on("jcarousel:create jcarousel:reload",function(){var a=t(".inner-content-wrap").width(),e=t(this).innerWidth(),i=parseInt(t(".similar-items").data("columns-rate"),10);e/=600>a?2:850>a?3:1100>a?4+i:1300>a?5+i:1600>a?6+i:1900>a?7+i:2100>a?8+i:2400>a?9+i:2700>a?10+i:3e3>a?11+i:3300>a?12+i:14,t(this).jcarousel("items").css("width",e+"px")}).jcarousel({wrap:"circular"}).jcarouselAutoscroll({interval:t(".similar-items").data("interval"),target:"+=1",autostart:t(".similar-items").data("autostart")}),t(".jcarousel").jcarousel({animation:t(".similar-items").data("animation")}),t(".jcarousel-prev").jcarouselControl({target:"-=1"}),t(".jcarousel-next").jcarouselControl({target:"+=1"}),t(".google-map-wrap").each(function(){var a,e,i=t(this).data("location"),s=t(this).data("map-type"),o=t(this).data("title"),r=t(this).data("scroll"),n=t(this).data("nav"),l=t(this).data("type-control"),d=parseInt(t(this).data("zoom"),10);s="ROADMAP"===s?google.maps.MapTypeId.ROADMAP:google.maps.MapTypeId.SATELLITE,r=1===parseInt(r,10)?!0:!1,n=1===parseInt(n,10)?!0:!1,l=1===parseInt(l,10)?!0:!1;var c=!0;"none"===t("#sidebar, #sidebar-top").css("display")&&(c=!1),e=new google.maps.Geocoder,e.geocode({address:i},function(e,p){if(p==google.maps.GeocoderStatus.OK){var h={zoom:d,mapTypeId:s,scrollwheel:r,draggable:c,streetViewControl:!1,mapTypeControl:l,panControl:n,zoomControl:n,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU}};a=new google.maps.Map(t("#royal-gmap .google-map")[0],h),a.setCenter(e[0].geometry.location);var f=new google.maps.Marker({map:a,position:e[0].geometry.location,title:i}),u=o?'<h3 style="line-height:19px;">'+o+"</h3>":"",g=new google.maps.InfoWindow({content:u});""!==o.trim()&&g.open(a,f)}else t("#royal-gmap").html("Geocode was not successful for the following reason: "+p)})}),E.each(function(){h(t(this))}),q.submit(function(a){f(),u(),g(),t(".pers-name").length>0&&t(".pers-email").length>0?f()&&u()&&g()?"Website"===t("#url").val()&&t("#url").val(""):a.preventDefault():g()||a.preventDefault()}),"1"==q.attr("data-disabled")&&(q.find("input, textarea").attr("disabled","disabled"),q.find(".submit-btn").fadeOut("x-slow")),q.find("#submit").addClass("rf-button submit-btn"),t(".post-password-form").find('input[type="submit"]').addClass("rf-button submit-btn"),t(".post-password-form").find('input[type="password"]').addClass("rf-input"),t("#portfolio-container, #blog-container").parent(".vc_row").css({"margin-left":"0","margin-right":"0"}),w(),b();var Q=t(".portfolio-post .post-media");1===parseInt(Q.attr("data-grayscale"),10)&&(Q.find("img").addClass("grayscale"),1===parseInt(Q.attr("data-grayscale-trans"),10)&&Q.find("img").addClass("grayscale-fade"),Q.hover(function(){t(this).find("img").toggleClass("grayscale-off")},function(){t(this).find("img").toggleClass("grayscale-off")})),t(".filters").each(function(){var a=t(this).data("sort");if(""!==a&&"undefined"!=typeof a){a=a.split(",");for(var e=0;e<a.length;e++)t(this).append(t(this).find('a[data-filter*="'+a[e]+'"]').closest("li").remove())}});var $=t("#blog-container"),B=t(".vc_single_image-wrapper").parent('a[href*="wp-content/uploads"]');B.attr("rel","prettyPhoto"),B.attr("data-title",B.find("img").attr("alt"));var J=t('img[class*="wp-image"]').parent('a[href*="wp-content/uploads"]');J.attr("rel","prettyPhoto"),J.attr("data-title",J.find("img").attr("alt")),t(".esg-grid").each(function(){var a=t(this).attr("id");t("#"+a+" a.esgbox").each(function(){t(this).attr("rel","prettyPhoto[ess_grid-"+a+"]").attr("data-title",t(this).attr("lgtitle"))})}),t('a[rel*="prettyPhoto"]').prettyPhoto(),t(".royal-ba-img-wrap").each(function(){var a=t(this),e=t(this).find(".royal-ba-divider-wrap"),i=t(this).find(".royal-after-img-wrap"),s=t(this).find(".royal-before-img-wrap");if(e.css("left",e.data("position")),e.css("background",e.data("color")),t(this).find(".royal-ba-divider-handle").css("border-color",e.data("color")),t(this).find(".royal-ba-divider-handle i").css("color",e.data("color")),"mousemove"===e.data("move")?a.hover(function(){t(this).find(".royal-ba-divider-wrap").css("background",e.data("hover-color")),t(this).find(".royal-ba-divider-handle").css("border-color",e.data("hover-color")),t(this).find(".royal-ba-divider-handle i").css("color",e.data("hover-color"))},function(){t(this).find(".royal-ba-divider-wrap").css("background",e.data("color")),t(this).find(".royal-ba-divider-handle").css("border-color",e.data("color")),t(this).find(".royal-ba-divider-handle i").css("color",e.data("color"))}):a.hover(function(){t(this).find(".royal-ba-divider-wrap").css("background",e.data("hover-color")),t(this).find(".royal-ba-divider-handle").css("border-color",e.data("hover-color")),t(this).find(".royal-ba-divider-handle i").css("color",e.data("hover-color"))},function(){t(this).find(".royal-ba-divider-wrap").css("background",e.data("color")),t(this).find(".royal-ba-divider-handle").css("border-color",e.data("color")),t(this).find(".royal-ba-divider-handle i").css("color",e.data("color"))}),"default"===a.data("transition"))0===e.length?i.css("width","0"):i.css("width",e.data("position"));else if("leftslide"===a.data("transition"))if(0===e.length)i.css({width:a.outerWidth()+"px",left:"-100%"});else{var o=e.data("position");i.css({width:a.outerWidth()+"px",left:"-"+(100-o.replace("%",""))+"%"})}else if(0===e.length)s.css("left","0"),i.css("left","100%");else{var o=e.data("position");s.css("left","-"+(100-o.replace("%",""))+"%"),i.css("left",e.data("position"))}(s.find("img").width()<a.width()||t(".royal-before-img-wrap img").width()<a.width())&&a.css("display","inline-block"),"mousemove"===e.data("move")||0===e.length?a.on("mousemove",function(o){var r=o.pageX-t(this).offset().left;"default"===a.data("transition")?(i.css("width",r+"px"),e.css("left",r+"px")):"leftslide"===a.data("transition")?(i.css("left","-"+(a.outerWidth()-r)+"px"),e.css("left",r+"px")):(s.css("left","-"+(a.outerWidth()-r)+"px"),i.css("left",r+"px"),e.css("left",r+"px"))}):e.draggable({containment:a,axis:"x",scroll:!1,drag:function(t){if("default"===a.data("transition"))i.css("width",e.css("left"));else if("leftslide"===a.data("transition")){var o=e.css("left");i.css("left","-"+(a.outerWidth()-o.replace("px",""))+"px"),e.css("left",o)}else{var o=e.css("left");s.css("left","-"+(a.outerWidth()-o.replace("px",""))+"px"),i.css("left",o)}}})}),T("blog"),T("portfolio"),j(t("#portfolio-container").next(".load-more-wrap")),j(t("#blog-container").next(".load-more-wrap")),e(),i(),s(),o(),n(),l(),d(),C(),c(),p(),y("#portfolio-container"),y("#blog-container"),m("portfolio"),m("blog"),setTimeout(function(){m("portfolio"),m("blog")},500),x("blog"),x("portfolio"),v(),k(),I("blog-post"),I("portfolio-post"),t("#lang_sel_footer").length>0&&(t("#page-wrap").append(t("#lang_sel_footer").remove()),t("#lang_sel_footer").css("visibility","visible")),t(window).on("load",function(){setTimeout(function(){i(),s(),o(),e(),n(),d(),c(),z.css("opacity","1"),t(".cycle-sentinel a").removeAttr("rel"),t(".gallery-slide").show(),m("portfolio"),m("blog"),r(window.location.href.split("/"))},300)}),t(window).resize(function(){s(),c(),n(),y("#portfolio-container"),y("#blog-container"),setTimeout(function(){l(),i(),s(),o(),e(),m("portfolio"),m("blog")},100)}),t(window).resize(function(){setTimeout(function(){m("portfolio"),m("blog")},100)})});